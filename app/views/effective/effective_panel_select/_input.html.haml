.panel.panel-default.effective-panel-select
  .panel-body

    .selection
      %span.selected
        %span.selection-clear x
        - if input.option_label.present?
          = input.option_label
        - else
          %span.selection-placeholder Please Choose
      %span.selection-arrow
        %b

    .selector
      .tabbable.tabs-left{role: 'tabpanel'}
        %ul.nav.nav-tabs{role: 'tablist'}
          - input.collection.each_with_index do |(group, _), index|
            - group_value = group.send(input.options[:group_method])

            %li{class: ('active' if group_value == input.group_value)}
              %a{'data-toggle': 'tab', role: 'tab', 'aria-controls': "#{group_value.parameterize}-#{input.object_id}", href: "##{group_value.parameterize}-#{input.object_id}"}
                = group

      .tab-content
        - input.collection.each_with_index do |(group, items), index|
          - group_label = group.send(input.options[:group_label_method]).to_s.downcase
          - group_value = group.send(input.options[:group_method])

          .tab-pane{id: "#{group_value.parameterize}-#{input.object_id}", class: ('active' if group_value == input.group_value) }
            %h2= group
            %p Select #{group_label} #{input.method_name}:

            %ul.options
              - Array(items).each do |item|
                - item_value = item.send(input.options[:option_key_method])

                %li{class: ('active' if item_value == input.value)}
                  %a{href: '#', 'data-effective-panel-select-id' => item_value}
                    = item.send(input.options[:option_value_method])




